<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Warehouse Display</title>

<style>
  html, body {
    margin: 0;
    padding: 0;
    width: 100vw;
    height: 100vh;
    background: black;
    overflow: hidden;
  }

  #viewer {
    width: 100vw;
    height: 100vh;
  }

  img {
    width: 100vw;
    height: 100vh;
    object-fit: contain;
    border: none;
  }
</style>
</head>
<body>

<div id="viewer"></div>

<script>
const counterURL = "index.html";
const counterTime = 15000;

const slides = [];

// ppt1 slides (12)
for (let i = 1; i <= 12; i++) {
  slides.push(`slides/ppt1/Slide${i}.PNG`);
}
slides.push("COUNTER");

// ppt2 slides (13)
for (let i = 1; i <= 13; i++) {
  slides.push(`slides/ppt2/Slide${i}.PNG`);
}
slides.push("COUNTER");

// ppt3 slides (2)
for (let i = 1; i <= 2; i++) {
  slides.push(`slides/ppt3/Slide${i}.png`);
}
slides.push("COUNTER");

// get index from URL
const params = new URLSearchParams(window.location.search);
let index = parseInt(params.get("i")) || 0;

const viewer = document.getElementById("viewer");

function showNext() {
  const item = slides[index];

  if (item === "COUNTER") {
    // go to counter and remember next position
    const nextIndex = (index + 1) % slides.length;
    window.location.href = `${counterURL}?return=1&i=${nextIndex}`;
    return;
  } else {
    viewer.innerHTML = `<img src="${item}">`;
    setTimeout(() => {
      index = (index + 1) % slides.length;
      showNext();
    }, 10000);
  }
}

showNext();
</script>

</body>
</html>
